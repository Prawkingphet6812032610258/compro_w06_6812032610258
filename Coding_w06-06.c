#include <stdio.h>

int main() {
    // ---------------------- กำหนดค่าตัวแปรเริ่มต้น ----------------------
    int a = 5, b = 2; // ตัวแปรจำนวนเต็ม
    float x = 3.0, y = 4.5; // ตัวแปรทศนิยม (float)

    // ----------------------------------------------------------------------
    // นิพจน์ที่ 1: ใช้ a++ (post-increment) และการหารเอาเศษ %
    // ----------------------------------------------------------------------
    int r1 = a++ * b + (int)y % 3;
    /*
        การทำงาน:
        - a++ ใช้ค่า a ก่อนแล้วค่อยเพิ่ม เช่น ใช้ 5 แล้ว a จะกลายเป็น 6
        - (int)y = 4 (แปลง float เป็น int) → 4 % 3 = 1
        - ผลลัพธ์: (5 * 2) + 1 = 10 + 1 = 11
    */
    printf("1) r1 = %d (หลังคำสั่ง: a = %d)\n", r1, a);

    // ✨ อภิปราย:
    // การใช้ post-increment ต้องระวัง เพราะค่าจะเปลี่ยน "หลังจาก" ใช้ในนิพจน์นั้น

    // ----------------------------------------------------------------------
    // นิพจน์ที่ 2: การใช้ตัวดำเนินการเปรียบเทียบและลอจิก AND (&&)
    // ----------------------------------------------------------------------
    int r2 = (a > b) && ((int)x / b < 2);
    /*
        - ตอนนี้ a = 6 และ b = 2
        - (a > b) → 6 > 2 → true (1)
        - (int)x = 3 → 3 / 2 = 1 → 1 < 2 → true (1)
        - true && true = true → r2 = 1
    */
    printf("2) r2 = %d\n", r2);

    // ✨ อภิปราย:
    // ลอจิก AND (&&) จะคืนค่า 1 ถ้าทั้งสองเงื่อนไขเป็นจริง

    // ----------------------------------------------------------------------
    // นิพจน์ที่ 3: การใช้ ++x (pre-increment) และคำนวณผสม float กับ int
    // ----------------------------------------------------------------------
    float r3 = ++x * y - a / 2;
    /*
        - ++x → เพิ่มค่าก่อน: x = 3.0 → 4.0
        - x * y = 4.0 * 4.5 = 18.0
        - a = 6 → 6 / 2 = 3
        - ผลลัพธ์: 18.0 - 3 = 15.0
    */
    printf("3) r3 = %.2f (หลังคำสั่ง: x = %.2f)\n", r3, x);

    // ✨ อภิปราย:
    // pre-increment จะเพิ่มค่าทันที จึงควรระวังความแตกต่างจาก post-increment

    // ----------------------------------------------------------------------
    // นิพจน์ที่ 4: การใช้ OR (||) และการเปลี่ยนค่าในนิพจน์
    // ----------------------------------------------------------------------
    float r4 = ((x += 1.5) > y) || (b-- > 0);
    /*
        - x = 4.0 + 1.5 = 5.5 → x > y → 5.5 > 4.5 → true
        - OR (||): เมื่อด้านซ้ายเป็น true แล้ว ด้านขวาจะไม่ถูกประเมิน (short-circuit)
        - แต่ b-- จะยังเกิดผลข้างเคียง: b = 2 → ใช้ก่อน แล้วค่อยลดเป็น 1
        - ผลลัพธ์: true || ... = true → r4 = 1.0
    */
    printf("4) r4 = %.2f (หลังคำสั่ง: x = %.2f, b = %d)\n", r4, x, b);

    // ✨ อภิปราย:
    // การใช้ OR แบบนี้มีผลข้างเคียงแม้ฝั่งขวาไม่ถูกประเมินเชิงตรรกะ
    // แต่ถ้ามี side-effect (เช่น b--) ค่านั้นจะยังถูกเปลี่ยน!

    // ---------------------- จบโปรแกรม ----------------------
    return 0;
}